(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-798b0481"],{"302c":function(e,t,n){"use strict";var s=n("6fa5"),a=n.n(s);a.a},"4f9a":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("navbar"),n("div",{staticClass:"pt-4"},[n("h1",[e._v("Budget Form")]),n("hr"),n("div",{staticClass:"container-fluid"},[n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"monthlypay"}},[e._v("Monthly pay")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.earnings,expression:"earnings",modifiers:{number:!0}}],staticClass:"w-10",attrs:{type:"number",name:"monthlypay",id:"monthlypay"},domProps:{value:e.earnings},on:{input:function(t){t.target.composing||(e.earnings=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("h2",[e._v("Expenses")]),n("div",[n("p",[e._v("Available Balance- "+e._s(e.getDifference))])]),n("div",{staticClass:"warning"},[0!==e.getDifference&&e.earnings>0?n("span",{staticClass:"alert-danger"},[e._v("Can't submit untill all income is accounted for")]):e.errored?n("span",{staticClass:"alert-danger"},[e._v(e._s(e.errResponse))]):e._e()]),n("div",{staticClass:"row outer"},[e._l(e.expenses,(function(t,s){return n("div",{key:s,staticClass:"form-group inputRow col-md-9 col-sm-12"},[n("div",{staticClass:"col-md-4 dummy"}),n("div",{staticClass:"col-md-4 col-sm-6 key"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expensesKey,expression:"expense.expensesKey"}],staticClass:"form-control",attrs:{placeholder:"Expense",type:"text"},domProps:{value:t.expensesKey},on:{input:function(n){n.target.composing||e.$set(t,"expensesKey",n.target.value)}}})]),n("div",{staticClass:"col-md-4 col-sm-6 value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.expensesValue,expression:"expense.expensesValue",modifiers:{number:!0}}],staticClass:"form-control",attrs:{placeholder:"Amount",type:"number"},domProps:{value:t.expensesValue},on:{input:function(n){n.target.composing||e.$set(t,"expensesValue",e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}})])])})),n("div",{staticClass:"form-group col-md-3 col-sm-12 addDelete"},[n("button",{staticClass:"btn addExpense",attrs:{type:"button"},on:{click:function(t){return e.addInputs()}}},[e._v(" Add ")]),e.expenses.length>1?n("button",{staticClass:"btn deleteInput ml-3",attrs:{type:"button"},on:{click:function(t){return e.deleteInputs()}}},[e._v(" Delete ")]):e._e()])],2),n("div",{staticClass:"submit mb-5"},[0==e.getDifference&&e.earnings>0?n("div",{staticClass:"row"},[n("button",{staticClass:"btn submitButton",attrs:{type:"submit"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.submitBudget(t)}}},[e._v(" Submt ")])]):e._e()])])])])],1)},a=[],i=(n("13d5"),n("bc3a")),r=n.n(i),o={name:"form",data:function(){return{earnings:"",expenses:[{expensesKey:"",expensesValue:null,subExpense:null}],result:"",isRead:!0,identifier:"",errored:!1,errResponse:"Something went wrong, please try again later"}},methods:{addInputs:function(){this.expenses.push({expensesKey:"",expensesValue:null,subExpense:null})},deleteInputs:function(){this.expenses.pop()},submitBudget:function(){var e=this;r.a.post("/api/budget",{id:this.identifier,earnings:this.earnings,expenses:this.expenses}).then((function(t){e.result=t,e.$router.push("/userprofile")})).catch((function(t){console.log(t),e.errored=!0}))}},created:function(){var e=this;r.a.get("/api/budget",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(t){e.identifier=t.data._id})).catch((function(t){console.log(t),e.errored=!0}))},computed:{getTotal:function(){return this.expenses.reduce((function(e,t){return e+=t.expensesValue,e}),0)},getDifference:function(){return this.earnings-this.getTotal}}},u=o,l=(n("302c"),n("2877")),c=Object(l["a"])(u,s,a,!1,null,"57726cba",null);t["default"]=c.exports},"6fa5":function(e,t,n){}}]);
//# sourceMappingURL=chunk-798b0481.a549c01c.js.map